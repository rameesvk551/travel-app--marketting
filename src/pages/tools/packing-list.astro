---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
---

<BaseLayout title="AI Packing List Generator" description="Generate a smart packing list based on your destination, trip type, and weather. Free tool â€” no signup required.">
  <Header />
  <main>
    <section class="pt-32 pb-16 bg-gradient-to-b from-primary-500 to-teal-600 text-white">
      <div class="container-narrow text-center">
        <div class="inline-flex items-center gap-2 bg-white/10 rounded-full px-4 py-2 mb-6 text-sm">
          <span>ğŸ’</span> Free Tool
        </div>
        <h1 class="text-4xl sm:text-5xl font-display font-extrabold mb-6">
          AI <span class="text-accent-300">Packing List</span>
        </h1>
        <p class="text-xl text-white/80">Never forget essentials again. Get a personalized packing list in seconds.</p>
      </div>
    </section>

    <section class="section-padding bg-white">
      <div class="container-narrow max-w-xl">
        <div class="card p-8">
          <div class="space-y-6">
            <div>
              <label class="block text-sm font-semibold text-dark-500 mb-2">Trip Type</label>
              <select id="pack-type" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-500 bg-white text-dark-500">
                <option value="">Select trip type...</option>
                <option value="beach">ğŸ–ï¸ Beach Vacation</option>
                <option value="trek">ğŸ”ï¸ Trekking / Hiking</option>
                <option value="city">ğŸ™ï¸ City / Cultural Tour</option>
                <option value="adventure">ğŸ¯ Adventure Sports</option>
                <option value="workation">ğŸ’» Workation</option>
                <option value="backpacking">ğŸ’ Backpacking</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-semibold text-dark-500 mb-2">Climate</label>
              <select id="pack-climate" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-500 bg-white text-dark-500">
                <option value="">Select climate...</option>
                <option value="tropical">ğŸŒ´ Tropical / Hot</option>
                <option value="cold">â„ï¸ Cold / Winter</option>
                <option value="moderate">ğŸŒ¤ï¸ Moderate / Pleasant</option>
                <option value="rainy">ğŸŒ§ï¸ Rainy / Monsoon</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-semibold text-dark-500 mb-2">Duration</label>
              <select id="pack-duration" class="w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-500 bg-white text-dark-500">
                <option value="short">1-3 Days</option>
                <option value="medium" selected>4-7 Days</option>
                <option value="long">8+ Days</option>
              </select>
            </div>
            <button id="pack-generate" class="btn-primary w-full">Generate Packing List</button>

            <div id="pack-result" class="hidden"></div>
          </div>
        </div>

        <div class="mt-8 bg-teal-50 rounded-2xl p-6 text-center border border-teal-100">
          <p class="text-sm text-gray-600 mb-3">ğŸ’¡ Save this list to your Wayon itinerary for easy access during your trip.</p>
          <a href="/#hero-input" class="btn-primary !py-3 !text-sm">Build My Itinerary â€” Free</a>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>

<script>
  const packingData: Record<string, string[]> = {
    essentials: ['Passport / ID', 'Phone & charger', 'Power bank', 'Cash & cards', 'Travel insurance docs', 'Medications', 'Toiletries bag'],
    beach: ['Swimwear (2 sets)', 'Sunscreen SPF 50+', 'Flip-flops', 'Beach towel', 'Sunglasses', 'Hat / Cap', 'Light cover-up', 'Waterproof phone pouch', 'Snorkeling gear (optional)'],
    trek: ['Trekking boots (broken in)', 'Trekking poles', 'Backpack (40-60L)', 'Rain cover', 'Thermal layers', 'Fleece jacket', 'Quick-dry t-shirts (3)', 'Trekking pants (2)', 'Headlamp + batteries', 'Water bottle (1L)', 'First aid kit', 'Sunscreen & lip balm', 'Wool socks (3 pairs)', 'Gloves & beanie'],
    city: ['Comfortable walking shoes', 'Casual outfits (3-4)', 'Smart outfit for dining', 'Day bag / tote', 'Guidebook or offline maps', 'Umbrella (compact)', 'Camera'],
    adventure: ['Activity-specific gear', 'Quick-dry clothing', 'Sports shoes', 'Waterproof jacket', 'GoPro / action camera', 'Dry bag', 'Energy bars', 'First aid kit'],
    workation: ['Laptop & charger', 'Portable monitor (optional)', 'Noise-canceling headphones', 'Webcam', 'Extension cord', 'Standing desk converter', 'Blue light glasses', 'Ergonomic mouse', 'Casual work outfits (5)'],
    backpacking: ['Backpack (50-65L)', 'Daypack (20L)', 'Quick-dry towel', 'Universal adapter', 'Padlock', 'Packing cubes', 'Laundry bag', 'Sleepsheet', 'Minimal toiletries', 'Multi-tool'],
    tropical: ['Cotton / linen clothing', 'Insect repellent', 'Aloe vera gel', 'Light rain jacket', 'Breathable shoes'],
    cold: ['Down jacket / parka', 'Thermal base layers', 'Wool sweaters (2)', 'Warm boots', 'Scarf & gloves', 'Beanie', 'Hot water bottle', 'Lip balm'],
    moderate: ['Light jacket', 'Layerable clothing', 'Comfortable sneakers', 'Sweater / hoodie'],
    rainy: ['Waterproof jacket', 'Waterproof shoes / boots', 'Umbrella', 'Quick-dry clothes', 'Zip-lock bags for electronics', 'Extra plastic bags'],
  };

  document.getElementById('pack-generate')?.addEventListener('click', () => {
    const type = (document.getElementById('pack-type') as HTMLSelectElement).value;
    const climate = (document.getElementById('pack-climate') as HTMLSelectElement).value;
    const duration = (document.getElementById('pack-duration') as HTMLSelectElement).value;
    const resultDiv = document.getElementById('pack-result')!;

    if (!type || !climate) {
      alert('Please select trip type and climate');
      return;
    }

    const items = [
      ...packingData.essentials,
      ...(packingData[type] || []),
      ...(packingData[climate] || []),
    ];

    // Add duration-specific items
    if (duration === 'long') items.push('Laundry detergent strips', 'Extra charger cable', 'Travel pillow');

    const uniqueItems = [...new Set(items)];

    resultDiv.innerHTML = `
      <div class="bg-gradient-to-br from-teal-50 to-primary-50 rounded-2xl p-6 border border-teal-100">
        <h4 class="font-display font-bold text-dark-500 mb-4 flex items-center gap-2">
          <span class="text-xl">âœ…</span> Your Packing List (${uniqueItems.length} items)
        </h4>
        <div class="space-y-2">
          ${uniqueItems.map(item => `
            <label class="flex items-center gap-3 cursor-pointer group">
              <input type="checkbox" class="w-4 h-4 rounded border-gray-300 text-teal-500 focus:ring-teal-300" />
              <span class="text-sm text-gray-600 group-hover:text-dark-500 transition-colors">${item}</span>
            </label>
          `).join('')}
        </div>
      </div>
    `;
    resultDiv.classList.remove('hidden');
    resultDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  });
</script>
